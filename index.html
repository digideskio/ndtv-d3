<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel='stylesheet' href='d3.slider/d3.slider.css'/>
    <link rel='stylesheet' href='styles.css'/>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>
  <!--
    <div id='graph_chooser_container' style='position: absolute; top: 10px; left: 10px;'>
      <select id='graph_chooser' onchange="loadData('data/'+$(this).val()); $('#video_link').attr('href', 'data/'+$(this).val().replace('.json', '.mp4'))"></select>
      <a id='video_link' target='_blank' href=''>Video</a>
    </div>-->
    <div id='graph'></div>
    <div id='key'></div>
    <div id='controls'>
      <div id='play-control-container'>
        <div style='float: right; width: 10%; background: #ccc; border-radius: 5px; padding: 10px'>
          <i id='step-back-control' class="fa fa-step-backward fa-2x"></i>
          <i id='play-back-control' class="fa fa-play fa-flip-horizontal fa-2x"></i>
          <i id='pause-control' class="fa fa-pause fa-2x"></i>
          <i id='play-forward-control' class="fa fa-play fa-2x"></i>
          <i id='step-forward-control' class="fa fa-step-forward fa-2x"></i>
        </div>
        <div style='width: 85%;' id='slider'></div>
      </div>
    </div>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="d3.slider/d3.slider.js"></script>
    <script src="ndtv-d3.js"></script>
    <script>
      $(function() {
        var options = {
          dataChooser: true,
          initialDataUrl: 'data/shortStergm.json',
          defaultDuration: 2000
        }
        var graph = new ndtv_d3(options);
    /*    
        var drawLine = function() {
          return d3.svg.line()
            .x(function(d){return d[0];})
            .y(function(d){return d[1];})
        }
        var drawPolygon = function(sides, size, centerx, centery, rotation) { 
          var poly = [];
          rotation = 0//rotation === undefined ? 60 : rotation;
          var rot = (rotation-90)/360*2*Math.PI
          console.log(rotation/360*2*Math.PI)
          var t1 = 2 * Math.PI / sides;
          var t2 = (Math.PI / sides) + rot//(360/rotation*2*Math.PI);
          
          for (var i = 0; i < sides; i++) {
              var t = t2 + t1 * i;
              var x = size* Math.sin(t) + centerx;
              var y = size * Math.cos(t)+ centery;
              poly.push([x, y]);
          }
          
          return drawLine()(poly) + 'Z';
        }
        var colors = d3.scale.category10();
        var opacity = 0.3
        d3.select('#container').append('path')
          .attr({
            fill: '#fff',
            stroke: '#000',
            opacity: 1,
            d: function() {return drawPolygon(50, 8, 300, 400); }
          })
        for(var i = 8; i >2; i--) {
          d3.select('#container').append('path')
            .attr({
              fill: colors(i*20),
              opacity: opacity,
              d: function() {return drawPolygon(i, 50, 300, 400); }
            })
        }
        d3.select('#container').append('circle')
          .attr({
            cx: 300,
            cy: 400,
            r: 10,
            fill: '#000'
          })*/
/*        d3.select('#container').selectAll('path.circle')
        .transition()
        .delay(2000)
        .duration(2000)
        .attr({
          d: function() {return drawline(8, 100, 300, 400); }
        })
*/      })
    </script>
  </body>
</html>